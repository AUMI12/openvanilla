<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8">
		<title>Creating a Package - Finding Previously Installed Softare</title>
		<link rel="stylesheet" type="text/css" href="../style/shared.css">
		<link rel="stylesheet" type="text/css" href="../style/page.css">
	</head>
	<body>
		<div id="breadcrumbs">
			<a href="../index.html">PackageMaker Help</a> â†’
			<a href="index.html">Creating a Package</a>
		</div>
		<div id="content">
			<h1>Finding Previously Installed Softare</h1>

			<p>If you are creating a package that may upgrade a previous install, Installer.app needs to be able to find the previously installed files in order to upgrade them properly. If what you have installed is unlikely to be moved by the user, this generally is not a problem: the files are where Installer.app left them.</p>
			<p>However, if the files are likely to be moved (e.g. an application), Installer.app needs some hints on how to find the moved files. The mechanism to provide these hints is called &ldquo;Locator&rdquo;, and an interface for Locator can be found in the &ldquo;Contents&rdquo; tab of the PackageMaker user interface.</p>
			<p>A Locator definition specifies one or more &ldquo;search methods&rdquo; that will be used to locate a specific file in your root. For example, you might specify how to find <code>./My Great App.app</code>, as seen in the following screenshot:</p>

			<img src="graphics/locator_Sheet.png">
			<span class="caption">Locator configuration to find com.apple.MyGreatApp using CommonAppSearch</span>
			
			<p>In this way, you can specify Locator definitions for as many or as few files in your root as needed. Locator definitions can also be specified by hand by modifying files within your package, as described <a href="locator_advanced.html">here</a>.</p>

			<h3>The Search Methods</h3>

			<h4>CheckPath</h4>
			<p>Simply checks a specific path. Succeeds if the file exists at that path.</p>

			<h4>LaunchServicesLookup</h4>
			<p>Consults the Launch Services database. Launch Services is a framework that provides an API for launching applications in Mac OS X.</p>

			<h4>BundleIdentifierSearch</h4>
			<p>Performs an exhaustive search of the entire filesystem for bundles with the specified <code>CFBundleIdentifier</code> in their Info.plist file.</p>

			<h4>CommonAppSearch</h4>
			<p>Available in OS 10.3 or later. This method is simply a macro that expands into a CheckPath, a LaunchServicesLookup, and a BundleIdentifierSearch - meaning that you get a comprehensive search for your application.</p>
		</div>
	</body>
</html>