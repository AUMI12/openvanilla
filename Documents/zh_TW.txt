OpenVanilla 輸入法框架
http://openvanilla.org/

= 使用說明（撰寫中）=

2004 © Lukhnos、劉康民、姜天戩、陳柏中、楊維中

== 簡介 ==

OpenVanilla（簡稱OV）是一套免費的、開放原始的碼、針對MacOS X平台設計，可以動態載入各種輸入法的中文輸入法架構（Framework）。OV本身並不是一個輸入法，而是一個負責載入各種輸入法資源的載入程式，擔任各種輸入法與作業系統之間的橋樑。透過OV，您可以使用倉頡、簡易、行列、注音，以及不需要手動選字的酷音輸入法，您也可以刪除不需要的輸入法，得到一份清爽的輸入法選單。

在OV當中，您更可以獲得更多在中文輸入的自由。OV支援Xcin（一套是普遍應用在LinuxFreeBSD等作業系統的視窗環境X window下的中文輸入介面）格式的輸入法表格—cin檔案，透過cin檔案，您可以完全修改原本的輸入法設定，包括重新設定按鍵定義、新增文字或詞彙，甚至，您可以發明一套屬於您自己的輸入法。

OV與蘋果內建的中文輸入法TCIM（Traditional Chinese Input Method），或其他在麥金塔平台上的輸入法比較，在於改善了程式的效能，而沒有像TCIM在第一次啟動時，需要花上許多時間載入的問題。更重要的是，OV是一個開放原始碼的自由軟體專案，除了是累積了過去「SpaceChewing酷音輸入法」與「香草輸入法」開放原始碼開發經驗的成果，任何願意繼續讓OV更好的朋友，都能夠一同參與開發，快速發現當中可能存在的問題。

== 安裝環境 ==

安裝MacOS X作業系統的麥金塔電腦（目前主要在OSX 10.3 Panther下開發）。

== 下載安裝 ==

您可以在OV官方網站的下載頁面，或是從OV位在中研院資訊所自由軟體鑄造場的專案頁面下載區（http://rt.openfoundry.org/Foundry/Project/Download/?Queue=209）中，取得最新版本的OV安裝套件，下載完成後直接點選安裝套件圖示，便開始進行安裝。

完成安裝後，OV主程式會安裝在「/Library/Components」底下，也就是在「資源庫」底下的「Components」裡頭，您可以看到一個叫做OVLoader.bundle的圖示。

== 啟用OV ==

在安裝完之後，請重新登入。然後，請在「系統偏好設定」（System Preference，位在螢幕左上角蘋果選單中）裡頭，打開「國際設定」（International）中的「輸入法選單」（Input method），在列表中，就可以看到多了一個「OV輸入法載入器」（繁體中文語系）或是「OpenVanilla Loader」（英文語系），出現的圖示是在蘋果符號當中，寫了一個「酷」字。您也可以在螢幕左上角的輸入法選單中，直接選擇「打開國際設定⋯」。

勾選之後，就可以在螢幕右上角的「輸入法選單」上，看到OpenVanilla圖示。您只要在輸入法選單上，或是使用Command按鈕（⌘）加上空白鍵切換輸入法（或使用Command按鈕加上Option按鈕，在加上空白鍵，三個按鍵一起按之後切換各國輸入語系），就可以切換到OV。

== 反安裝 ==

OpenVanilla的資料會裝在以下位置：

/Library/Components/OVLoader.bundle/
/Library/OpenVanilla/
/Library/PreferencePanes/OVPrefPane.prefPane/
/Library/Frameworks/OpenVanilla.framework/
/usr/local/lib/libchewing*

== 使用方法 ==

=== 切換輸入法 ===

=== 簡繁體中文轉換 ===

=== 全形半形符號切換 ===

=== 輸入超過Big5範圍的文字 ===

根據您所使用的輸入法，您可以透過OpenVanilla輸入各種在Unicode所囊括的範圍當中的文字（是的，您甚至可以輸入克林貢文）。大部份的MacOS X的應用程式都已經支援了Unicode，不過有些軟體則不然。

就以您購買蘋果電腦時，往往會附贈的辦公套裝軟體—AppleWorks6來說，就只能夠支援純Big5環境，所以，如果當您在AppleWorks中輸入某些超過Big5的文字，您會發現輸入法會突然卡住，例如你想要打「堃」，就會突然在輸入「ㄎㄨㄣ」之後卡住而無法動彈。這主要是應用程式對不同的文字編碼的支援問題，在輸入法的部份，沒有辦法處理這樣的狀況，即使是OSX系統內建的中文輸入法，也有同樣的問題。目前知道有這種問題的軟體只有AppleWorks，不過，還是希望您稍微注意。

== 設定OV選項 ==

== 各項輸入法相關說明 ==

=== 注音 ===

=== 倉頡 ===

=== 簡易 ===

=== 酷音 ===

==== 選字及選詞 ====

當您在打字的時候，只要按下空白鍵、或在方向鍵上按「下」，就會在您輸入位置的下方，跳出選字視窗，在選字模式下，可以選詞與選字，然後，按下數字鍵1到7（在許氏鍵盤配置下，則是用a、s、d、f、j、k、l），就會輸入您所選擇的字或詞。

在按下空白鍵或在方向鍵上按「下」之後，切換選字的是游標所在位置的下一個字，與漢音輸入法稍有不同，漢音輸入法是選擇游標所在的前一個字。而如果系統詞庫中，有以您目前所選擇的字音開頭的詞彙，就會先出現選詞的畫面，按一下空白鍵或「上」、「下」方向鍵，就會切換選字及選詞模式。

比如說，輸入「近視」之後，將游標移動到「近視」一詞的最前面，按下空白鍵，便可看到許多選項。此時直接再按下空白鍵，便可選不同的「近」字。

在選字或或選詞的時候，如果可以選擇的選項數量超過一頁可以顯示的範圍，就會以分頁方式呈現，只要按左鍵與右鍵，便可以翻頁，翻頁到底時會循環，回到選字的第一頁畫面，在選字（或選詞視窗）上，也會出現全部頁數、您目前所在頁數、以及是否可以按下左右鍵翻頁的箭頭指示。

如以空白鍵選詞翻頁（只能往後翻）到底時，再按一下會進入選字。在選字的時候，如果按下空白鍵，就會回到選字的第一頁。此外，如果系統中有以某個字音開頭，但是字數不同的可選詞彙，比方說，當您輸入「意氣風發」時，您便可以選擇四字詞「意氣風發」以及「意氣」，系統會先跳出四字詞的選詞狀態，再按一下空白鍵或「下」，才會跳出二字詞「意氣」的選詞狀態，然後才是「意」這個字的選字狀態。

==== 切換鍵盤配置 ====

酷音輸入法支援預設鍵盤、許氏鍵盤、倚天鍵盤、倚天二十六鍵、IBM鍵盤以及精業鍵盤等不同的鍵盤配置，您可以在OV的偏好設置中切換鍵盤配置。

==== 中英文混雜輸入 ====

如果在輸入的同時，按下「Caps Lock」按鈕，便可以在酷音輸入法環境下，輸入英文，不需要在切換到英文語系環境下，才可以輸入英文。而只要再按一下「Caps Lock」按鈕，就可以切換回中文輸入狀態。此外，在大多數的狀況下，只要按下shift以及其他按鍵，便可以輸入英文字母。

==== 手動斷詞 ====

有時候，系統自動選詞的結果，並不符合我們的期待，將一些不應該被判斷成詞彙的字的組合，當成是詞彙處理。比方說，您在輸入「計算機與打字機」之後，出現的結果卻是：

「計算 積雨 打字機」

這時候，您可以按下「積」和「雨」之間，按下「TAB」按鈕，強迫「積」和「雨」之間斷開，而不要將「積雨」視作是一個詞彙，而得到正確的結果。在許氏鍵盤下，您也可以使用像自然輸入法一樣的方式，用「q」按鍵斷詞。

==== 加入自訂詞彙 ====

當您在輸入、選字的時候，系統就會自動幫您把詞庫當中原本沒有的詞彙，加入到您的自訂詞庫當中了，所以，在輸入的時候，系統會自動出現您最近輸入時常用的詞彙。

另外，您也可以手動加入新詞，在SpaceChewing中，目前支援兩種新增自訂辭典的方法，您可以自訂新增二字詞到九字詞。第一種是沿用過去在X window環境下的方式，方法是：1.先把游標移到要存的詞的前面，2.計算要存的詞的長度，例如三個字，3.按下 Ctrl-3。

另外一種方法，則是考慮到許多慣用漢音輸入法的使用者的習慣，另外加入了漢音模式的加入自訂詞彙方式。方法是，當您在輸入文字的狀態下，按下Shift按鈕以及左右鍵，便會出現一段底線加粗的文字範圍，這時候，只要再按下Enter鍵，就可以將先前所選擇的範圍，加入自訂辭典檔案中，而如果按下的是其他的按鍵，就會跳出選字模式。

您自訂的詞彙，會儲存在您個人目錄下→「資源庫」→「OVIMChewing」下的「hashdat」檔案中，您可以將這個檔案，複製到其他的電腦上使用，而如果您覺得SpaceChewing執行速度太慢，也可以直接刪除這個檔案，讓系統不要讀取您的自訂辭典。—很抱歉，目前還沒有管理酷音輸入法自訂辭典的工具。

==== 特殊符號輸入 ====

當您在輸入的時候，只要按下在注音符號之外的標點符號，就可以打出全形標點符號，例如Shift加上「,」，就可以輸入「，」。在許氏鍵盤配置下，您也可以直接輸入「,」，就出現全形的「，」，輸入「.」出現全形的「。」，而按下了Shift以及空白鍵，則可以輸入全形空白。

如果您熟悉「漢音輸入法」的使用環境，您或許會習慣按下「`」按鈕，就會出現符號表選擇清單，在SpaceChewing中，也有同樣的功能，不過叫出符號表的方法是按下Ctrl加上「1」或是「0」。

在SpaceChewing中，您也可以同時按下Ctrl以及Option按鈕，然後按下「a」到「z」等按鈕，也可以輸入類似過去在倚天中文環境下的特殊符號。

而因為在MacOS X環境中，系統已經用掉了不少的快速鍵，許多的應用程式也設計了各種的鍵盤快速鍵，在MacOS X中，因為系統以及應用程式的按鍵，都會比輸入法更加的優先，所以往往造成用Ctrl以及Option按鍵輸入的特殊符號，因為與系統或應用程式衝突而失靈。例，按下「m」會變成輸入「Enter」，按下「i」會成為在英文環境下輸入「TAB」的效果，系統的終端機也經常會攔截掉這些按鍵—這是MacOS X的先天設計問題，難以克服。

特殊符號輸入的按鍵位置與符號對應如下：

 q┌ w┬ e┐ r□ t〈 y〉 u⋯ I無 o。 p※
 a無 s┼ d無 f【 g】 h無 j○ k— l│ ;； '：
 z└ x┴ c無 vˇ b《 n》 m無 ,， .． /？

如果您經常撰寫中文學術論文，您應該會在撰寫參考書目與註腳的時候，經常需要輸入新式的書名號，在SpaceChewing下要輸入新式書名號相當方便而且快速，您只需要記住，在鍵盤中央的地方，有三組括弧，例如，按下「b」與「n」就是「《」與「》」。

=== 白話字漢羅輸入 ===

=== Unicode 輸入法 ===

=== 藏文輸入法 ===

子音

ཀ་k ཁ་K ག་g ང་G ཅ་c ཅ་C
ཇ་j ཉ་N ཏ་t ཐ་T ད་d ན་n
པ་p ཕ་P བ་b མ་m ཙ་x ཚ་X
དྷ་D ཝ་w ཞ་Z ཟ་z འ་' ཡ་y
ར་r ལ་l ཤ་S ས་s ཧ་h ཨ་A

特殊子音

ཊ་q ཋ་Q ཌ་v ཎ་V བྷ་B

組合字

སྒྲ་fsgr ལྷ་flh ཀྰ་fk'

梵文組合字

ཀྲྱ་fkry ཁྑ་fkk

母音

ཨི་Ai
ཀ་k or ka ཀི་ki ཀུ་ku ཀོ་ko
ཀེ་ke ཀཻ་kE ཀཽ་kO ཀྀ་KI

標點

།་, ་空白鍵 [輸入空白].
ཿ་: ༔་; ྅་@ ༼་( ༽་)
༑་-
ཨྃ་A& ཨོཾ་Ao& ཨིཾ་Ai& ཨཽཾ་AO&
ཀྂ་k% ཧྰུྂ་fh'u%

數字

༡་ 1 ༢་2 ༣་ 3 ༤་ 4 ༥་5
༦་6 ༧་7 ༨་8 ༩་9 ༠་0

=== EZBasic輸入法 ===

=== Xcin 輸入法模組 ===

==== 漁村符號輸入法 ====

漁村符號是一套好記，以符號外觀對應的鍵盤按鍵設計為原則，設計用來快速輸入各種在Unicode當中特殊符號的輸入法，這套輸入法的淵源與背景請參考附錄。簡單來說，透過漁村，您可以輸入的符號包括：

# 各種特殊的英文與數字符號，只要直接輸入單一的英文字母或數字即可。例如打「a」可以產生「⒜」、「ⓐ」、「ⓐ」，打「1」就會出現「①」、「⑴」、「⒈」等；因為unicode符號的限制，數字最多可以到50。
# 各種圓形、方形與三角形等符號。打出圓形符號的方法是按下句號「.」，方形是逗點「,」，三角形則是「/\」或「\/」，星形符號是「*」等。按下「<」、「<<」、「>」與「>>」，則可以輸入各種括弧或現代書名號，例如「»」。
# 可以用來輸入各種箭頭。可使用的按鍵包括「<-」（←）、「->」（→）、「<\」（↖）、「/>」（↗）、「</」（↙）、「\>」（↘）、「<->」（⇄）「<|」（↑）、「|>」（↓）等等。
# 可以輸入八卦符號，以「|」代表乾卦，以「:」代表坤卦；例如「:|:」就是「☵」。
# 音符符號。如「o/~」可以輸入「♪」。
# 輸入「pen」，可以列出所有與筆相關的符號。「mail」與「tel」也分別代表郵件與電話相關符號。
# 輸入「astro」，可以列出所有的西洋星座符號。
# 輸入「planet」，可以列出所有的西洋九大行星代表符號。
# 輸入「chess」，可以列出所有的西洋棋符號。
# 輸入「poker」，可以列出所有的橋牌符號。
# 蘋果系統符號。例如打「cmd」可以打出「⌘」、「」，打「opt」可以打出「⌥」、「⎇」。
# 其他特別符號。例如「sss」可以輸入溫泉符號「♨」，「ox」可以輸入「☠」等。

== 進階設定 ==

OV的所有設定資訊，都存放在您的帳號目錄下的「資源庫」→「OV」→「0.6.1」目錄下的「OVLoader.plist」檔案當中。這個檔案是一個XML（eXtensive Markup Language）格式的純文字檔案，當您在「系統偏好設定」的OV設定中，按下「進階設定⋯」，就會以您系統中目前預設的XML編輯器，修改這個設定檔案。

== 自訂、修改輸入法與設計自己的輸入法 ==

OV最大的特色之一，就是能夠更方便的修改安裝包當中內建的輸入法表格，符合自己的特殊需要，比方說就原本的注音或倉頡輸入法，新增幾個自己所習慣的按鍵；也可以使用比蘋果TCIM所提供的輸入法編輯工具更具有彈性的方式，設計自己的輸入法。

或這麼說，許多朋友都有在MacOS X上找不到無蝦米輸入法可用的問題，OV目前也無法直接提供無蝦米輸入法，原因是在無蝦米輸入法的所有者行易公司，對產品的政策問題。而如果您可以找到無蝦米輸入法的表格，並且轉換成OV所使用的格式，然後放到OV的輸入法檔案目錄中，單純就技術上來說，要實現在OV架構下使用無蝦米，是可行的；但是這樣未經行易公司授權，便逕行使用無蝦米輸入法，請三思您所必須負擔的責任。

OV 0.6.1 版所使用的輸入法檔案，都位在系統硬碟中的「資源庫」→
「OpenVanilla」→「0.6.1」目錄下。在這個目錄中，您可以看到許多副檔名是.dylib的檔案，這些是各個輸入法所使用的動態執行檔案，如果您覺得有些輸入法實在用不著，您可以刪除這些檔案（在您刪除檔案之前，建議您先在系統偏好設定中的「國際設定」，將OV暫時關閉）。

其中，OVIMArray是行列輸入法、OVIMCanjei是倉頡、OVIMChewing是酷音、OVIMPhonetic是注音、OVIMPOJ是台語白話字輸入法、OCIMXcin則是可以載入各種Xcin輸入法表格的通用輸入法模組。每個輸入法需要的檔案，都位在同名的目錄下。比方說，選單上的「OV 行列輸入法」的表格，就是在OVIMArray下的array30.cin，POJ的表格是OVIMPOJ下的poj.cin，而您會修改、新增的檔案，通常便位在OVIMXcin下。

您可以使用任何可以一套編輯純文字檔案的編輯軟體，修改輸入法表格，輸入法表格的副檔名必須是「.cin」，在存檔的時候，也必須使用UTF-8編碼存檔，MacOS X 內建的「文字編輯」（TextEdit）就是一套可以編輯純文字檔案，以及轉換編碼的編輯軟體。在一個.cin檔案中，應該要包含以下資訊。

以漁村輸入法為例，在檔案的開頭需要有：

 %gen_inp
 %ename EHQ-Symbols
 %cname 漁村符號
 %encoding UTF-8
 %selkey 1234567890

其中：

* %gen_inp：所有的.cin檔案，都必須以此開頭。
* %ename：輸入法的英文名稱。
* %cname：輸入法的中文名稱。
* %encoding：輸入法檔案的編碼方式，請不要修改這一行的內容。
* %selkey：選字按鍵的設定，也就是當您輸入的按鍵可以產生多種結果的時候，您想要使用怎樣的按鍵選擇在選字視窗中出現的選項。上面的範例是使用1到0的數字鍵當成選字按鍵，您也可以改成用「qwer⋯」按鍵選字。

接下來必須要有%keyname begin與%keyname end。在這兩個標籤的內容中定義的是輸入時所使用的按鍵，還有按下的時候應該先產生怎樣的結果，按鍵名稱與顯示名稱中間隔一個空白，每個按鍵的設定寫成一行。比方說，在倉頡輸入法的設定中，就是「q 手」、「a 日」，標準鍵盤配置的注音輸入法就是「1 ㄅ」、「q ㄆ」等。

在設定完按鍵之後，就是設定每一個按鍵組合所應該產生的結果了，這些設定放在%chardef begin與%chardef end之間，前面設定的是您在前面%keyname所設定的按鍵定義的組合，空一個空格後，是產生的結果。比方說，您可以在注音輸入法當中加入自己創建的新字，想要用「ㄅㄧㄤ\」打出「棒」這個字，就是多加一行「1u;4 棒」。此外，在%keyname與%chardef所定義的英文按鍵，是沒有區分大小寫的。

== 使用授權 ==

本軟體為開放源碼 (open source) 軟體，採用 Artistic License 釋出。相關權利義務，請參閱授權條款原文。

== 線上相關文件以及聯絡方式 ==

目前OV的各種說明文件以及相關進度，都是在Wiki上進行、發佈，您可以在以下網址，取得各項說明文件：

http://openvanilla.org/

而如果您發現OV有任何問題，或任何建議，希望能夠有怎樣的改進，您也可以使用前述「自由軟體鑄造場」的RT（Request Tracker）回報系統反應。

而在您回報錯誤時，希望您可以盡可能描述您所遇到的狀況，例如您在那個應用程式中、使用OV輸入法輸入了怎樣的內容出現了問題，而如果酷音輸入法造成應用軟體當機，OSX會提供應用程式當掉時的錯誤訊息，詢問您是否要當機紀錄回報給蘋果，我們也希望您能夠保留這份紀錄，提供給我們參考。

如果您熟悉使用IRC網路聊天室的話，您也可以在IRC上找到OV的發展者，我們經常會出沒在irc.seed.net.tw的「#osxchat」頻道裡。而各項最新的消息，也會發表在「#osxchat」頻道的專屬網誌：

http://osxchat.blogspot.com/

== 附錄 ==

=== OpenVanilla計畫的背景 ===

=== 漁村輸入法的淵源 ===

=== 特別感謝 ===

* 老地方冰果室、OIKOS生活網對於OpenVanilla的相關報導。
* 新酷音發展計畫（http://chewing.csie.net/news.html）